(function(t){function e(e){for(var n,r,i=e[0],l=e[1],c=e[2],d=0,p=[];d<i.length;d++)r=i[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&p.push(o[r][0]),o[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,i=1;i<a.length;i++){var l=a[i];0!==o[l]&&(n=!1)}n&&(s.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},o={app:0},s=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},1478:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("router-view")],1)},s=[],r={name:"App"},i=r,l=(a("034f"),a("2877")),c=a("6544"),u=a.n(c),d=a("7496"),p=Object(l["a"])(i,o,s,!1,null,null,null),f=p.exports;u()(p,{VApp:d["a"]});var v=a("f309");n["a"].use(v["a"]);var m=new v["a"]({theme:{themes:{light:{primary:"#34A0B1",secondary:"#FFFFFF",accent:"#353B46"}}}}),g=(a("b0c0"),a("8c4f")),h=a("d4ec"),b=a("bee2"),_=function(){function t(){Object(h["a"])(this,t)}return Object(b["a"])(t,null,[{key:"check",value:function(){var t=this.getAuthData();return t&&t.token}},{key:"getToken",value:function(){return this.getAuthData().token}},{key:"getUser",value:function(){return this.getAuthData().user}},{key:"logout",value:function(t){var e=this;t?n["a"].swal({title:"Deseja realmente sair?",text:"Esta ação pode ser irreversível!",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sim! Sei o que estou fazendo",cancelButtonText:"Cancelar"}).then((function(t){t.value&&e.clearSession()})):this.clearSession()}},{key:"clearSession",value:function(){localStorage.clear(),location.href="/login",window.location.reload()}},{key:"getAuthData",value:function(){var t=this.getAuthDataDecoded();return t?JSON.parse(t):t}},{key:"getAuthDataDecoded",value:function(){var t=localStorage.getItem("token");return!!t&&atob(atob(t))}}]),t}(),w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{staticClass:"login"},[a("v-container",[a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"6",lg:"4"}},[a("v-card",{staticClass:"elevation-20",attrs:{tile:""}},[a("v-card-text",[a("div",{staticClass:"login__content"},[a("v-img",{attrs:{src:"assets/logo/logo-dealer-sites.png"}}),a("h2",[t._v("Teste Tecnico Developer")]),a("div",{staticClass:"login__credentials"},[a("strong",[t._v("Use os dados abaixo para fazer login:")]),a("br"),t._v(" Login: "),a("code",[t._v("teste@dealersites.com.br")]),a("br"),t._v(" Senha: "),a("code",[t._v("DealerSites@2020")])]),a("v-form",{ref:"login",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("div",{staticClass:"login__input"},[a("v-text-field",{attrs:{label:"Login",placeholder:"Insira seu login",rules:[function(t){return!!t||"O login é obrigatório"}],outlined:"","prepend-inner-icon":"person",autofocus:""},model:{value:t.login.username,callback:function(e){t.$set(t.login,"username",e)},expression:"login.username"}})],1),a("div",{staticClass:"login__input"},[a("v-text-field",{attrs:{label:"Senha",placeholder:"Insira sua senha",rules:[function(t){return!!t||"A senha é obrigatória"}],outlined:"","prepend-inner-icon":"vpn_key",type:t.showPassword?"text":"password","append-icon":t.showPassword?"visibility":"visibility_off"},on:{"click:append":function(e){t.showPassword=!t.showPassword},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.validateLogin()}},model:{value:t.login.password,callback:function(e){t.$set(t.login,"password",e)},expression:"login.password"}})],1)]),a("div",{staticClass:"login__button"},[a("v-btn",{attrs:{color:"primary",disabled:!t.valid,loading:t.loading,block:""},on:{click:function(e){return t.validateLogin()}}},[t._v("Acessar")])],1)],1)])],1)],1)],1)],1)],1)},x=[],T=a("5530"),y=a("2f62"),S={name:"Login",data:function(){return{valid:!1,login:{username:"",password:null},showPassword:!1}},computed:Object(T["a"])({},Object(y["b"])(["loading"])),methods:{validateLogin:function(){this.$refs.login.validate()&&this.executeLogin()},executeLogin:function(){var t=this;this.$store.dispatch("Login/executes",this.login).then((function(){return t.$router.push({name:"home"})})).catch((function(){return t.loginError()}))},loginError:function(){this.login.password=null,this.$swal({icon:"warning",title:"Usuário não existe ou senha inválida!",text:"Tente novamente ou contacte o suporte."})}}},k=S,V=(a("699c"),a("8336")),O=a("b0af"),C=a("99d9"),E=a("62ad"),A=a("a523"),j=a("4bd4"),U=a("adda"),$=a("0fd9"),L=a("8654"),D=Object(l["a"])(k,w,x,!1,null,"013bcd04",null),P=D.exports;u()(D,{VApp:d["a"],VBtn:V["a"],VCard:O["a"],VCardText:C["b"],VCol:E["a"],VContainer:A["a"],VForm:j["a"],VImg:U["a"],VRow:$["a"],VTextField:L["a"]});var R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-app-bar",{attrs:{app:"","inverted-scroll":!1}},[a("v-app-bar-nav-icon",{staticClass:"d-flex d-lg-none",on:{click:function(e){return e.stopPropagation(),t.toggleDrawer()}}}),a("v-toolbar-title",{staticClass:"d-none d-lg-flex main__toolbar-title"},[t._v(" Teste Tecnico Developer ")]),a("v-progress-linear",{attrs:{active:t.loading,indeterminate:t.loading,absolute:"",bottom:"",color:"primary"}}),a("v-spacer"),a("v-toolbar-title",{staticClass:"d-flex d-lg-none"},[a("v-img",{attrs:{src:"/assets/logo/logo-dealer-sites.png",width:"150"}})],1),a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(e){return t.logout()}}},[a("v-icon",[t._v("exit_to_app")]),a("span",[t._v("Sair")])],1)],1),a("v-navigation-drawer",{attrs:{app:"",fixed:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-app-bar",[a("v-toolbar-title",[a("v-img",{attrs:{src:"/assets/logo/logo-dealer-sites.png",width:"150"}})],1)],1),a("v-divider"),a("v-list",{attrs:{dense:"",nav:""}},t._l(t.menus,(function(e,n){return a("v-list-item",{key:n,attrs:{link:"",to:e.link}},[a("v-list-item-icon",[a("v-icon",[t._v(t._s(e.icon))])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.title))])],1)],1)})),1)],1),a("v-main",[a("router-view")],1)],1)},I=[],F={name:"Main",computed:Object(T["a"])(Object(T["a"])(Object(T["a"])({},Object(y["b"])(["loading"])),Object(y["b"])("Main",["menus"])),{},{drawer:{get:function(){return this.$store.state.Main.drawer},set:function(t){this.$store.commit("Main/SET_DRAWER",t)}}}),methods:{logout:function(){_.logout("showAsk")},toggleDrawer:function(){this.$store.commit("Main/TOGGLE_DRAWER")}}},M=F,B=(a("739b"),a("40dc")),N=a("5bc1"),G=a("ce7e"),z=a("132d"),W=a("8860"),q=a("da13"),H=a("5d23"),J=a("34c3"),Y=a("f6c4"),K=a("f774"),Q=a("8e36"),X=a("2fa4"),Z=a("2a7f"),tt=Object(l["a"])(M,R,I,!1,null,"3b5ccf88",null),et=tt.exports;u()(tt,{VApp:d["a"],VAppBar:B["a"],VAppBarNavIcon:N["a"],VBtn:V["a"],VDivider:G["a"],VIcon:z["a"],VImg:U["a"],VList:W["a"],VListItem:q["a"],VListItemContent:H["a"],VListItemIcon:J["a"],VListItemTitle:H["b"],VMain:Y["a"],VNavigationDrawer:K["a"],VProgressLinear:Q["a"],VSpacer:X["a"],VToolbarTitle:Z["a"]});var at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"12",md:"10",lg:"10"}},[a("h1",[t._v("Bem-vindo(a) ao Teste Técnico Developer")]),a("h2",[t._v("Acesse o menu para navegar na interface.")])])],1)],1)},nt=[],ot={name:"Home"},st=ot,rt=Object(l["a"])(st,at,nt,!1,null,null,null),it=rt.exports;u()(rt,{VCol:E["a"],VContainer:A["a"],VRow:$["a"]});var lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"12",md:"10",lg:"10"}},[a("UsersFilters")],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"10",lg:"10"}},[a("UsersTable")],1)],1)],1)},ct=[],ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"elevation-20",attrs:{tile:""}},[a("v-data-table",{staticClass:"elevation-20",attrs:{options:t.options,"server-items-length":t.totalUsers,headers:t.headers,items:t.users,loading:t.loading,page:t.params.page,"items-per-page":t.params.perPage,"fixed-header":!0,height:"400","footer-props.prev-icon":"navigate_before","footer-props.next-icon":"navigate_next","footer.page-text":"Por página","loading-text":"Buscando usuários... Por favor aguarde.","items-per-page-all-text":"Usuários por página","footer-props":{showFirstLastPage:!0,firstIcon:"first_page",lastIcon:"last_page",prevIcon:"navigate_before",nextIcon:"navigate_next","items-per-page-text":"Usuários por página","items-per-page-options":[10,20,30,100]}},on:{"update:options":function(e){t.options=e},"update:page":function(e){return t.$set(t.params,"page",e)}},scopedSlots:t._u([{key:"item.name",fn:function(e){var n=e.item;return[a("strong",[t._v(t._s(n.name))])]}},{key:"item.logins",fn:function(e){var n=e.item;return[a("strong",{staticClass:"users-table__logins"},[t._v(t._s(n.logins))])]}},{key:"item.active",fn:function(e){var n=e.item;return[n.active?a("span",{staticClass:"users-table__active users-table__active--true"},[t._v("Ativo")]):a("span",{staticClass:"users-table__active users-table__active--false"},[t._v("Inativo")])]}},{key:"footer.page-text",fn:function(e){var a=e.pageStart,n=e.pageStop,o=e.itemsLength;return[t._v(" "+t._s(a)+" a "+t._s(n)+" de "+t._s(o)+" ")]}},{key:"no-data",fn:function(){return[a("v-container",[a("v-row",{attrs:{justify:"center"}},[a("v-col",{staticClass:"text-center",attrs:{cols:"12",sm:"12",md:"10",lg:"10"}},[a("img",{attrs:{src:"/assets/emoji/bad.png",width:"100px"}}),a("h2",[t._v(" Nenhum usuário encontrado. ")])])],1)],1)]},proxy:!0}])})],1)},dt=[],pt={name:"UsersTable",data:function(){return{headers:[{text:"Nome",value:"name"},{text:"Email",value:"email",sortable:!1},{text:"Número de logins",value:"logins",sortable:!0,align:"center"},{text:"Situação",value:"active",sortable:!1,align:"center"}],options:{}}},computed:Object(T["a"])(Object(T["a"])({},Object(y["b"])(["loading"])),Object(y["b"])("Users",["users","totalUsers","params"])),watch:{options:{handler:function(){var t={};t["perPage"]=this.options.itemsPerPage,t["page"]=this.options.page,this.options.sortBy.length>0&&(t["order"]=this.options.sortBy[0]),this.options.sortDesc.length>0&&(t["order"]+=this.options.sortDesc[0]?",desc":",asc"),console.log(t),this.$store.commit("Users/SET_PARAMS",t),this.$store.dispatch("Users/get")},deep:!0}}},ft=pt,vt=(a("c104"),a("8fea")),mt=Object(l["a"])(ft,ut,dt,!1,null,"36e36297",null),gt=mt.exports;u()(mt,{VCard:O["a"],VCol:E["a"],VContainer:A["a"],VDataTable:vt["a"],VRow:$["a"]});var ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"elevation-20",attrs:{tile:""}},[a("v-card-actions",[a("h2",[t._v("Filtros")]),a("v-spacer"),t.show?a("v-btn",{attrs:{outlined:""},on:{click:function(e){t.show=!t.show}}},[t._v(" Ocultar filtros ")]):a("v-btn",{attrs:{outlined:""},on:{click:function(e){t.show=!t.show}}},[t._v(" Exibir filtros ")])],1),a("v-scroll-y-transition",[t.show?a("div",[a("v-divider"),a("v-card-text",{staticClass:"users-filters__content"},[a("v-row",[a("v-col",{staticClass:"users-filters__content-col",attrs:{cols:"12",sm:"12",md:"4",lg:"4",xl:"4"}},[a("v-text-field",{attrs:{label:"Pesquise por nome",placeholder:"Insira o nome do usuário",outlined:"",dense:"","prepend-inner-icon":"person",disabled:t.loading},model:{value:t.filters.name,callback:function(e){t.$set(t.filters,"name",e)},expression:"filters.name"}})],1),a("v-col",{staticClass:"users-filters__content-col",attrs:{cols:"12",sm:"12",md:"4",lg:"4",xl:"4"}},[a("v-text-field",{attrs:{label:"Data inicial",outlined:"",dense:"","prepend-inner-icon":"today",type:"datetime-local",disabled:t.loading},model:{value:t.filters.start_date,callback:function(e){t.$set(t.filters,"start_date",e)},expression:"filters.start_date"}}),a("v-text-field",{attrs:{label:"Data final",outlined:"",dense:"","prepend-inner-icon":"event",type:"datetime-local",disabled:t.loading},model:{value:t.filters.end_date,callback:function(e){t.$set(t.filters,"end_date",e)},expression:"filters.end_date"}})],1),a("v-col",{staticClass:"users-filters__content-col",attrs:{cols:"12",sm:"12",md:"4",lg:"4",xl:"4"}},[a("v-container",{staticClass:"user-filters__login-top"},[a("v-row",[a("v-col",{staticClass:"user-filters__login-top-col-top",attrs:{cols:"12"}},[a("v-btn",{staticClass:"user-filters__button-10",class:{"white--text":t.filters.loginTop&&"more"==t.filters.loginTop},attrs:{block:"",color:"grey",large:"",outlined:!(t.filters.loginTop&&"more"==t.filters.loginTop)},on:{click:function(e){return t.setLoginTop("more")}}},[t._v("Top 10 mais fizeram login ")])],1),a("v-col",{staticClass:"user-filters__login-top-col-bottom",attrs:{cols:"12"}},[a("v-btn",{staticClass:"user-filters__button-10",class:{"white--text":t.filters.loginTop&&"minus"==t.filters.loginTop},attrs:{block:"",color:"grey",large:"",outlined:!(t.filters.loginTop&&"minus"==t.filters.loginTop)},on:{click:function(e){return t.setLoginTop("minus")}}},[t._v("Top 10 menos fizeram login")])],1)],1)],1)],1)],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{outlined:"",color:"red"},on:{click:function(e){return t.clearFilters()}}},[t._v("Limpar Filtros")]),a("v-btn",{attrs:{outlined:"",color:"primary",disabled:!t.filtersIsValid(),loading:t.loading},on:{click:function(e){return t.aplyFilters()}}},[t._v("Aplicar Filtros")])],1)],1):t._e()])],1)},bt=[],_t={name:"UsersFilters",data:function(){return{show:!1,filters:{},loginTop:null}},computed:Object(T["a"])(Object(T["a"])({},Object(y["b"])(["loading"])),Object(y["b"])("Users",["users"])),methods:{aplyFilters:function(){this.$store.commit("Users/SET_PARAMS",this.filters),this.$store.commit("Users/SET_PARAMS",{page:1}),this.$store.dispatch("Users/get")},clearFilters:function(){this.$store.commit("Users/REMOVE_PARAMS",this.filters),this.$store.commit("Users/SET_PARAMS",{page:1}),this.filters={},this.$store.dispatch("Users/get")},filtersIsValid:function(){var t=this.filters;return(t.name||t.loginTop)&&(!t.start_date&&!t.end_date||t.start_date&&t.end_date)},setLoginTop:function(t){this.filters["loginTop"]=t,this.$forceUpdate()}}},wt=_t,xt=(a("9d2b"),a("0789")),Tt=Object(l["a"])(wt,ht,bt,!1,null,"b4f75538",null),yt=Tt.exports;u()(Tt,{VBtn:V["a"],VCard:O["a"],VCardActions:C["a"],VCardText:C["b"],VCol:E["a"],VContainer:A["a"],VDivider:G["a"],VRow:$["a"],VScrollYTransition:xt["d"],VSpacer:X["a"],VTextField:L["a"]});var St={name:"Users",computed:Object(T["a"])({},Object(y["b"])("Users",["users"])),components:{UsersTable:gt,UsersFilters:yt}},kt=St,Vt=(a("fa7f"),Object(l["a"])(kt,lt,ct,!1,null,"7fcdc464",null)),Ot=Vt.exports;u()(Vt,{VCol:E["a"],VContainer:A["a"],VRow:$["a"]}),n["a"].use(g["a"]);var Ct=[{path:"*",redirect:"/main/home"},{path:"/login",name:"login",component:P,meta:{auth:!1,title:"Login"},beforeEnter:function(t,e,a){_.check()?a({name:"home"}):a()}},{path:"/main",name:"main",component:et,redirect:"/home",meta:{auth:!0},children:[{path:"home",name:"home",component:it,meta:{auth:!0,title:"Home"}},{path:"users",name:"users",component:Ot,meta:{auth:!0,title:"Usuários"}}]}],Et=new g["a"]({routes:Ct});Et.beforeEach((function(t,e,a){At(t),jt(t)?a({name:"login"}):a()}));var At=function(t){document.title="".concat(t.meta.title||"App"," - Dealer Sites")},jt=function(t){return"login"!==t.name&&t.meta.auth&&!_.check()},Ut=Et,$t=(a("d3b7"),{namespaced:!0,state:{test:"Hello World!"},actions:{executes:function(t,e){var a=t.dispatch;return new Promise((function(t,o){n["a"].prototype.$api.post("login/auth",e).then((function(e){return a("credentialsIsValid",e.data)?t():o()})).catch((function(){return o()}))}))},credentialsIsValid:function(t,e){var a=t.dispatch;return!(!e||"success"!==e.status)&&a("saveCredentials",e.data)},saveCredentials:function(t,e){return localStorage.setItem("token",e.token)}}}),Lt={namespaced:!0,state:{drawer:!0,menus:[{title:"Home",icon:"home",link:{name:"home"}},{title:"Usuários",icon:"people",link:{name:"users"}}]},mutations:{SET_DRAWER:function(t,e){t.drawer=e},TOGGLE_DRAWER:function(t){t.drawer=!t.drawer}}},Dt={namespaced:!0,state:{users:[],totalUsers:0,params:{page:1,perPage:10}},mutations:{SET_USERS:function(t,e){t.users=e},SET_TOTAL_USERS:function(t,e){t.totalUsers=e},SET_PARAMS:function(t,e){for(var a in e)t.params[a]=e[a]},REMOVE_PARAMS:function(t,e){for(var a in e)delete t.params[a]}},actions:{get:function(t){var e=t.state,a=t.commit;n["a"].prototype.$api.get("users/user",{params:e.params}).then((function(t){a("SET_USERS",t.data.data),a("SET_TOTAL_USERS",t.data.total)})).catch((function(){a("SET_USERS",[]),a("SET_TOTAL_USERS",0)}))}}};n["a"].use(y["a"]);var Pt=new y["a"].Store({state:{loading:!1},mutations:{SET_LOADING:function(t,e){t.loading=e}},modules:{Login:$t,Main:Lt,Users:Dt}}),Rt=Pt,It=a("bc3a"),Ft=a.n(It);n["a"].use({install:function(t){t.prototype.$api=Ft.a.create({baseURL:"/api/v1/"}),t.prototype.$api.interceptors.request.use((function(t){var e=_.getToken();return e&&(t.headers["token"]=e),Rt.commit("SET_LOADING",!0),t})),t.prototype.$api.interceptors.response.use((function(t){return Rt.commit("SET_LOADING",!1),t}),(function(t){return Rt.commit("SET_LOADING",!1),t}))}});var Mt={},Bt=a("5886");a("4413");n["a"].use(Bt["default"]);var Nt={};n["a"].config.productionTip=!1,new n["a"]({vuetify:m,router:Ut,store:Rt,axios:Mt,sweetalert:Nt,render:function(t){return t(f)}}).$mount("#app")},"5d55":function(t,e,a){},"699c":function(t,e,a){"use strict";a("1478")},"739b":function(t,e,a){"use strict";a("b31a")},"85ec":function(t,e,a){},"9d2b":function(t,e,a){"use strict";a("eebe")},b31a:function(t,e,a){},c104:function(t,e,a){"use strict";a("5d55")},d7bd:function(t,e,a){},eebe:function(t,e,a){},fa7f:function(t,e,a){"use strict";a("d7bd")}});
//# sourceMappingURL=app.f4db15ef.js.map