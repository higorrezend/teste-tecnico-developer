(function(e){function t(t){for(var o,r,i=t[0],l=t[1],c=t[2],d=0,p=[];d<i.length;d++)r=i[d],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&p.push(s[r][0]),s[r]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);u&&u(t);while(p.length)p.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],o=!0,i=1;i<a.length;i++){var l=a[i];0!==s[l]&&(o=!1)}o&&(n.splice(t--,1),e=r(r.s=a[0]))}return e}var o={},s={app:0},n=[];function r(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=o,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(a,o,function(t){return e[t]}.bind(null,o));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("85ec")},"096d":function(e,t,a){"use strict";a("d5db")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("router-view")],1)},n=[],r={name:"App"},i=r,l=(a("034f"),a("2877")),c=a("6544"),u=a.n(c),d=a("7496"),p=Object(l["a"])(i,s,n,!1,null,null,null),v=p.exports;u()(p,{VApp:d["a"]});var f=a("f309");o["a"].use(f["a"]);var m=new f["a"]({theme:{themes:{light:{primary:"#34A0B1",secondary:"#FFFFFF",accent:"#353B46"}}}}),g=(a("b0c0"),a("8c4f")),h=a("d4ec"),_=a("bee2"),b=function(){function e(){Object(h["a"])(this,e)}return Object(_["a"])(e,null,[{key:"check",value:function(){var e=this.getAuthData();return e&&e.token}},{key:"getToken",value:function(){return this.getAuthData().token}},{key:"getUser",value:function(){return this.getAuthData().user}},{key:"logout",value:function(e){var t=this;e?o["a"].swal({title:"Deseja realmente sair?",text:"Esta ação pode ser irreversível!",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sim! Sei o que estou fazendo",cancelButtonText:"Cancelar"}).then((function(e){e.value&&t.clearSession()})):this.clearSession()}},{key:"clearSession",value:function(){localStorage.clear(),location.href="/login",window.location.reload()}},{key:"getAuthData",value:function(){var e=this.getAuthDataDecoded();return e?JSON.parse(e):e}},{key:"getAuthDataDecoded",value:function(){var e=localStorage.getItem("token");return!!e&&atob(atob(e))}}]),e}(),w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{staticClass:"login"},[a("v-container",[a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"6",lg:"4"}},[a("v-card",{staticClass:"elevation-20",attrs:{tile:""}},[a("v-card-text",[a("div",{staticClass:"login__content"},[a("v-img",{attrs:{src:"assets/logo/logo-dealer-sites.png"}}),a("h2",[e._v("Teste Técnico Developer")]),a("div",{staticClass:"login__credentials"},[a("strong",[e._v("Use os dados abaixo para fazer login:")]),a("br"),e._v(" Login: "),a("code",[e._v("teste@dealersites.com.br")]),a("br"),e._v(" Senha: "),a("code",[e._v("DealerSites@2020")])]),a("v-form",{ref:"login",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("div",{staticClass:"login__input"},[a("v-text-field",{attrs:{label:"Login",placeholder:"Insira seu login",rules:[function(e){return!!e||"O login é obrigatório"}],outlined:"","prepend-inner-icon":"person",autofocus:""},model:{value:e.login.username,callback:function(t){e.$set(e.login,"username",t)},expression:"login.username"}})],1),a("div",{staticClass:"login__input"},[a("v-text-field",{attrs:{label:"Senha",placeholder:"Insira sua senha",rules:[function(e){return!!e||"A senha é obrigatória"}],outlined:"","prepend-inner-icon":"vpn_key",type:e.showPassword?"text":"password","append-icon":e.showPassword?"visibility":"visibility_off"},on:{"click:append":function(t){e.showPassword=!e.showPassword},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.validateLogin()}},model:{value:e.login.password,callback:function(t){e.$set(e.login,"password",t)},expression:"login.password"}})],1)]),a("div",{staticClass:"login__button"},[a("v-btn",{attrs:{color:"primary",disabled:!e.valid,loading:e.loading,block:""},on:{click:function(t){return e.validateLogin()}}},[e._v("Acessar")])],1)],1)])],1)],1)],1)],1)],1)},x=[],S=a("5530"),T=a("2f62"),k={name:"Login",data:function(){return{valid:!1,login:{username:"",password:null},showPassword:!1}},computed:Object(S["a"])({},Object(T["b"])(["loading"])),methods:{validateLogin:function(){this.$refs.login.validate()&&this.executeLogin()},executeLogin:function(){var e=this;this.$store.dispatch("Login/executes",this.login).then((function(){return e.$router.push({name:"home"})})).catch((function(){return e.loginError()}))},loginError:function(){this.login.password=null,this.$swal({icon:"warning",title:"Usuário não existe ou senha inválida!",text:"Tente novamente ou contacte o suporte."})}}},y=k,V=(a("096d"),a("8336")),C=a("b0af"),O=a("99d9"),A=a("62ad"),E=a("a523"),j=a("4bd4"),U=a("adda"),L=a("0fd9"),P=a("8654"),D=Object(l["a"])(y,w,x,!1,null,"3852c97a",null),$=D.exports;u()(D,{VApp:d["a"],VBtn:V["a"],VCard:C["a"],VCardText:O["b"],VCol:A["a"],VContainer:E["a"],VForm:j["a"],VImg:U["a"],VRow:L["a"],VTextField:P["a"]});var I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-app-bar",{attrs:{app:"","inverted-scroll":!1}},[a("v-app-bar-nav-icon",{staticClass:"d-flex d-lg-none",on:{click:function(t){return t.stopPropagation(),e.toggleDrawer()}}}),a("v-toolbar-title",{staticClass:"d-none d-lg-flex main__toolbar-title"},[e._v(" Teste Técnico Developer ")]),a("v-progress-linear",{attrs:{active:e.loading,indeterminate:e.loading,absolute:"",bottom:"",color:"primary"}}),a("v-spacer"),a("v-toolbar-title",{staticClass:"d-flex d-lg-none"},[a("v-img",{attrs:{src:"/assets/logo/logo-dealer-sites.png",width:"150"}})],1),a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.logout()}}},[a("v-icon",[e._v("exit_to_app")]),a("span",[e._v("Sair")])],1)],1),a("v-navigation-drawer",{attrs:{app:"",fixed:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-app-bar",[a("v-toolbar-title",[a("v-img",{attrs:{src:"/assets/logo/logo-dealer-sites.png",width:"150"}})],1)],1),a("v-divider"),a("v-list",{attrs:{dense:"",nav:""}},e._l(e.menus,(function(t,o){return a("v-list-item",{key:o,attrs:{link:"",to:t.link}},[a("v-list-item-icon",[a("v-icon",[e._v(e._s(t.icon))])],1),a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(t.title))])],1)],1)})),1)],1),a("v-main",[a("router-view")],1)],1)},R=[],M={name:"Main",computed:Object(S["a"])(Object(S["a"])(Object(S["a"])({},Object(T["b"])(["loading"])),Object(T["b"])("Main",["menus"])),{},{drawer:{get:function(){return this.$store.state.Main.drawer},set:function(e){this.$store.commit("Main/SET_DRAWER",e)}}}),methods:{logout:function(){b.logout("showAsk")},toggleDrawer:function(){this.$store.commit("Main/TOGGLE_DRAWER")}}},F=M,B=(a("c7fa"),a("40dc")),q=a("5bc1"),H=a("ce7e"),N=a("132d"),G=a("8860"),z=a("da13"),J=a("5d23"),W=a("34c3"),Q=a("f6c4"),Y=a("f774"),K=a("8e36"),X=a("2fa4"),Z=a("2a7f"),ee=Object(l["a"])(F,I,R,!1,null,"5ccf0fe8",null),te=ee.exports;u()(ee,{VApp:d["a"],VAppBar:B["a"],VAppBarNavIcon:q["a"],VBtn:V["a"],VDivider:H["a"],VIcon:N["a"],VImg:U["a"],VList:G["a"],VListItem:z["a"],VListItemContent:J["a"],VListItemIcon:W["a"],VListItemTitle:J["b"],VMain:Q["a"],VNavigationDrawer:Y["a"],VProgressLinear:K["a"],VSpacer:X["a"],VToolbarTitle:Z["a"]});var ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"12",md:"10",lg:"10"}},[a("h1",[e._v("Bem-vindo(a) ao Teste Técnico Developer")]),a("h2",[a("router-link",{attrs:{to:{name:"users"}}},[e._v("Clique aqui")]),e._v(" para acessar a lista de usuários cadastrados.")],1)])],1),a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"12",md:"10",lg:"10"}},[a("h3",[e._v("Descrição do projeto:")]),a("p",[a("ul",{attrs:{"data-sourcepos":"12:1-30:0",dir:"auto"}},[a("li",{attrs:{"data-sourcepos":"12:1-12:57"}},[e._v("Ambiente de desenvolvimento provisionado com Docker;")]),a("li",{attrs:{"data-sourcepos":"13:1-13:32"}},[e._v("Banco de dados MariaDB 10.5.6;")]),a("li",{attrs:{"data-sourcepos":"14:1-14:60"}},[e._v("Projeto desenvolvido em PHP, usando o framework Laravel 8;")]),a("li",{attrs:{"data-sourcepos":"15:1-15:36"}},[e._v("Tabelas criadas usando migrations;")]),a("li",{attrs:{"data-sourcepos":"16:1-16:79"}},[e._v("A estrutura do banco (UML) criada com MySQL Workbench está junto ao projeto;")]),a("li",{attrs:{"data-sourcepos":"17:1-17:179"}},[e._v("O banco de dados foi populado utilizando Seeders e os dados foram criados aleatoriamente usando a biblioteca Faker. Users com 8.000 registros e Users_acess com 18.000 registros;")]),a("li",{attrs:{"data-sourcepos":"18:1-18:79"}},[e._v("O frontend foi desenvolvido usando o framework VueJS e compilado com Vue Cli.")]),a("li",{attrs:{"data-sourcepos":"19:1-19:64"}},[e._v("Foi usado o framework para estilização do front-end Vuetify;")]),a("li",{attrs:{"data-sourcepos":"20:1-20:40"}},[e._v("Toda a aplicação é 100% responsiva;")]),a("li",{attrs:{"data-sourcepos":"21:1-22:48"}},[e._v("Foi implementada uma API Restful com autenticação via token no header. Para obter o token o usuário deve se autenticar informando o login e a senha a seguir:"),a("br"),a("code",[e._v("teste@dealersites.com.br")]),e._v(" e "),a("code",[e._v("DealerSites@2020")]),e._v(";")]),a("li",{attrs:{"data-sourcepos":"23:1-23:141"}},[e._v("Os filtros, ordenação, carregamento e paginação desenvolvidos buscam as informações na API usando Axios e passando o token no header;")]),a("li",{attrs:{"data-sourcepos":"24:1-24:92"}},[e._v("Todo código do frontend (HTML, CSS e JavaScript) estão na pasta /resources/frontend/app;")]),a("li",{attrs:{"data-sourcepos":"25:1-25:172"}},[e._v("O código do frontend foi compilado usando o Vue Cli, onde o código HTML está no arquivo /resources/views/app.blade.php e os assets (CSS e JavaScript) na pasta /public;")]),a("li",{attrs:{"data-sourcepos":"26:1-27:47"}},[e._v("Caso queira executar o frontend usando Vue Cli use os seguintes comandos:"),a("br"),a("code",[e._v("cd resources/frontend/app/")]),e._v(", depois, "),a("code",[e._v("npm install")]),e._v(" para baixar as dependências e "),a("code",[e._v("npm run serve")]),e._v(" para subir a aplicação;")]),a("li",{attrs:{"data-sourcepos":"28:1-30:0"}},[e._v("Efetuiei o deploy da aplicação para uma VPS e caso queiram "),a("a",{attrs:{href:"http://191.252.182.30:8000",title:"Acessar a aplicação",rel:"nofollow noreferrer noopener",target:"_blank"}},[e._v("a aplicação pode ser acessada clicando aqui.")])])])])])],1)],1)},oe=[],se={name:"Home"},ne=se,re=Object(l["a"])(ne,ae,oe,!1,null,null,null),ie=re.exports;u()(re,{VCol:A["a"],VContainer:E["a"],VRow:L["a"]});var le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"12",md:"10",lg:"10"}},[a("UsersFilters")],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"10",lg:"10"}},[a("UsersTable")],1)],1)],1)},ce=[],ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"elevation-20",attrs:{tile:""}},[a("v-data-table",{staticClass:"elevation-20",attrs:{options:e.options,"server-items-length":e.totalUsers,headers:e.headers,items:e.users,loading:e.loading,page:e.params.page,"items-per-page":e.params.perPage,"fixed-header":!0,height:e.innerHeight,"footer-props.prev-icon":"navigate_before","footer-props.next-icon":"navigate_next","footer.page-text":"Por página","loading-text":"Buscando usuários... Por favor aguarde.","items-per-page-all-text":"Usuários por página","footer-props":{showFirstLastPage:!0,firstIcon:"first_page",lastIcon:"last_page",prevIcon:"navigate_before",nextIcon:"navigate_next","items-per-page-text":"Usuários por página","items-per-page-options":[10,20,30,100]}},on:{"update:options":function(t){e.options=t},"update:page":function(t){return e.$set(e.params,"page",t)}},scopedSlots:e._u([{key:"item.name",fn:function(t){var o=t.item;return[a("strong",[e._v(e._s(o.name))])]}},{key:"item.logins",fn:function(t){var o=t.item;return[a("strong",{staticClass:"users-table__logins"},[e._v(e._s(o.logins))])]}},{key:"item.active",fn:function(t){var o=t.item;return[o.active?a("span",{staticClass:"users-table__active users-table__active--true"},[e._v("Ativo")]):a("span",{staticClass:"users-table__active users-table__active--false"},[e._v("Inativo")])]}},{key:"footer.page-text",fn:function(t){var a=t.pageStart,o=t.pageStop,s=t.itemsLength;return[e._v(" "+e._s(a)+" a "+e._s(o)+" de "+e._s(s)+" ")]}},{key:"no-data",fn:function(){return[a("v-container",[a("v-row",{attrs:{justify:"center"}},[a("v-col",{staticClass:"text-center",attrs:{cols:"12",sm:"12",md:"10",lg:"10"}},[a("img",{attrs:{src:"/assets/emoji/bad.png",width:"100px"}}),a("h2",[e._v(" Nenhum usuário encontrado. ")])])],1)],1)]},proxy:!0}])})],1)},de=[],pe={name:"UsersTable",data:function(){return{headers:[{text:"Nome",value:"name"},{text:"email",value:"email",sortable:!1},{text:"Número de logins",value:"logins",sortable:!0,align:"center"},{text:"Situação",value:"active",sortable:!1,align:"center"}],options:{},innerHeight:window.innerHeight-280}},computed:Object(S["a"])(Object(S["a"])({},Object(T["b"])(["loading"])),Object(T["b"])("Users",["users","totalUsers","params"])),watch:{options:{handler:function(){var e={};e["perPage"]=this.options.itemsPerPage,e["page"]=this.options.page,this.options.sortBy.length>0&&(e["order"]=this.options.sortBy[0]),this.options.sortDesc.length>0&&(e["order"]+=this.options.sortDesc[0]?",desc":",asc"),this.$store.commit("Users/SET_PARAMS",e),this.$store.dispatch("Users/get")},deep:!0}}},ve=pe,fe=(a("5c9e"),a("8fea")),me=Object(l["a"])(ve,ue,de,!1,null,"2acf6e25",null),ge=me.exports;u()(me,{VCard:C["a"],VCol:A["a"],VContainer:E["a"],VDataTable:fe["a"],VRow:L["a"]});var he=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"elevation-20",attrs:{tile:""}},[a("v-card-actions",[a("h2",[e._v("Filtros")]),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.refresh()}}},[a("v-icon",[e._v("refresh")])],1),e.show?a("v-btn",{attrs:{outlined:""},on:{click:function(t){e.show=!e.show}}},[e._v(" Ocultar filtros ")]):a("v-btn",{attrs:{outlined:""},on:{click:function(t){e.show=!e.show}}},[e._v(" Exibir filtros ")])],1),a("v-scroll-y-transition",[e.show?a("div",[a("v-divider"),a("v-card-text",{staticClass:"users-filters__content"},[a("v-row",[a("v-col",{staticClass:"users-filters__content-col",attrs:{cols:"12",sm:"12",md:"4",lg:"4",xl:"4"}},[a("v-text-field",{attrs:{label:"Pesquise por nome",placeholder:"Insira o nome do usuário",outlined:"",dense:"","prepend-inner-icon":"person",disabled:e.loading},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}})],1),a("v-col",{staticClass:"users-filters__content-col",attrs:{cols:"12",sm:"12",md:"4",lg:"4",xl:"4"}},[a("v-text-field",{attrs:{label:"Data inicial",outlined:"",dense:"","prepend-inner-icon":"today",type:"datetime-local",disabled:e.loading},model:{value:e.filters.start_date,callback:function(t){e.$set(e.filters,"start_date",t)},expression:"filters.start_date"}}),a("v-text-field",{attrs:{label:"Data final",outlined:"",dense:"","prepend-inner-icon":"event",type:"datetime-local",disabled:e.loading},model:{value:e.filters.end_date,callback:function(t){e.$set(e.filters,"end_date",t)},expression:"filters.end_date"}})],1),a("v-col",{staticClass:"users-filters__content-col",attrs:{cols:"12",sm:"12",md:"4",lg:"4",xl:"4"}},[a("v-container",{staticClass:"user-filters__login-top"},[a("v-row",[a("v-col",{staticClass:"user-filters__login-top-col-top",attrs:{cols:"12"}},[a("v-btn",{staticClass:"user-filters__button-10",class:{"white--text":e.filters.loginTop&&"more"==e.filters.loginTop},attrs:{block:"",color:"grey",large:"",outlined:!(e.filters.loginTop&&"more"==e.filters.loginTop)},on:{click:function(t){return e.setLoginTop("more")}}},[e._v("Top 10 mais fizeram login ")])],1),a("v-col",{staticClass:"user-filters__login-top-col-bottom",attrs:{cols:"12"}},[a("v-btn",{staticClass:"user-filters__button-10",class:{"white--text":e.filters.loginTop&&"minus"==e.filters.loginTop},attrs:{block:"",color:"grey",large:"",outlined:!(e.filters.loginTop&&"minus"==e.filters.loginTop)},on:{click:function(t){return e.setLoginTop("minus")}}},[e._v("Top 10 menos fizeram login")])],1)],1)],1)],1)],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{outlined:"",color:"red"},on:{click:function(t){return e.clearFilters()}}},[e._v("Limpar Filtros")]),a("v-btn",{attrs:{outlined:"",color:"primary",disabled:!e.filtersIsValid(),loading:e.loading},on:{click:function(t){return e.aplyFilters()}}},[e._v("Aplicar Filtros")])],1)],1):e._e()])],1)},_e=[],be={name:"UsersFilters",data:function(){return{show:!1,filters:{},loginTop:null}},computed:Object(S["a"])(Object(S["a"])({},Object(T["b"])(["loading"])),Object(T["b"])("Users",["users"])),methods:{aplyFilters:function(){this.$store.commit("Users/SET_PARAMS",this.filters),this.$store.commit("Users/SET_PARAMS",{page:1}),this.$store.dispatch("Users/get")},clearFilters:function(){this.$store.commit("Users/REMOVE_PARAMS",this.filters),this.$store.commit("Users/SET_PARAMS",{page:1}),this.filters={},this.$store.dispatch("Users/get")},filtersIsValid:function(){var e=this.filters;return e.name||e.loginTop||!e.start_date&&!e.end_date||e.start_date&&e.end_date},setLoginTop:function(e){this.filters["loginTop"]=e,this.$forceUpdate()},refresh:function(){this.$store.dispatch("Users/get")}}},we=be,xe=(a("e8eb"),a("0789")),Se=Object(l["a"])(we,he,_e,!1,null,"f06f8160",null),Te=Se.exports;u()(Se,{VBtn:V["a"],VCard:C["a"],VCardActions:O["a"],VCardText:O["b"],VCol:A["a"],VContainer:E["a"],VDivider:H["a"],VIcon:N["a"],VRow:L["a"],VScrollYTransition:xe["d"],VSpacer:X["a"],VTextField:P["a"]});var ke={name:"Users",computed:Object(S["a"])({},Object(T["b"])("Users",["users"])),components:{UsersTable:ge,UsersFilters:Te}},ye=ke,Ve=(a("fa7f"),Object(l["a"])(ye,le,ce,!1,null,"7fcdc464",null)),Ce=Ve.exports;u()(Ve,{VCol:A["a"],VContainer:E["a"],VRow:L["a"]}),o["a"].use(g["a"]);var Oe=[{path:"*",redirect:"/main/home"},{path:"/login",name:"login",component:$,meta:{auth:!1,title:"Login"},beforeEnter:function(e,t,a){b.check()?a({name:"home"}):a()}},{path:"/main",name:"main",component:te,redirect:"/home",meta:{auth:!0},children:[{path:"home",name:"home",component:ie,meta:{auth:!0,title:"Home"}},{path:"users",name:"users",component:Ce,meta:{auth:!0,title:"Usuários"}}]}],Ae=new g["a"]({routes:Oe});Ae.beforeEach((function(e,t,a){Ee(e),je(e)?a({name:"login"}):a()}));var Ee=function(e){document.title="".concat(e.meta.title||"App"," - Dealer Sites")},je=function(e){return"login"!==e.name&&e.meta.auth&&!b.check()},Ue=Ae,Le=(a("d3b7"),{namespaced:!0,state:{test:"Hello World!"},actions:{executes:function(e,t){var a=e.dispatch;return new Promise((function(e,s){o["a"].prototype.$api.post("login/auth",t).then((function(t){return a("credentialsIsValid",t.data)?e():s()})).catch((function(){return s()}))}))},credentialsIsValid:function(e,t){var a=e.dispatch;return!(!t||"success"!==t.status)&&a("saveCredentials",t.data)},saveCredentials:function(e,t){return localStorage.setItem("token",t.token)}}}),Pe={namespaced:!0,state:{drawer:!0,menus:[{title:"Home",icon:"home",link:{name:"home"}},{title:"Usuários",icon:"people",link:{name:"users"}}]},mutations:{SET_DRAWER:function(e,t){e.drawer=t},TOGGLE_DRAWER:function(e){e.drawer=!e.drawer}}},De={namespaced:!0,state:{users:[],totalUsers:0,params:{page:1,perPage:10}},mutations:{SET_USERS:function(e,t){e.users=t},SET_TOTAL_USERS:function(e,t){e.totalUsers=t},SET_PARAMS:function(e,t){for(var a in t)e.params[a]=t[a]},REMOVE_PARAMS:function(e,t){for(var a in t)delete e.params[a]}},actions:{get:function(e){var t=e.state,a=e.commit;o["a"].prototype.$api.get("users/user",{params:t.params}).then((function(e){a("SET_USERS",e.data.data),a("SET_TOTAL_USERS",e.data.total)})).catch((function(){a("SET_USERS",[]),a("SET_TOTAL_USERS",0)}))}}};o["a"].use(T["a"]);var $e=new T["a"].Store({state:{loading:!1},mutations:{SET_LOADING:function(e,t){e.loading=t}},modules:{Login:Le,Main:Pe,Users:De}}),Ie=$e,Re=a("bc3a"),Me=a.n(Re);o["a"].use({install:function(e){e.prototype.$api=Me.a.create({baseURL:"/api/v1/"}),e.prototype.$api.interceptors.request.use((function(e){var t=b.getToken();return t&&(e.headers["token"]=t),Ie.commit("SET_LOADING",!0),e})),e.prototype.$api.interceptors.response.use((function(e){return Ie.commit("SET_LOADING",!1),e}),(function(e){return Ie.commit("SET_LOADING",!1),e}))}});var Fe={},Be=a("5886");a("4413");o["a"].use(Be["default"]);var qe={};o["a"].config.productionTip=!1,new o["a"]({vuetify:m,router:Ue,store:Ie,axios:Fe,sweetalert:qe,render:function(e){return e(v)}}).$mount("#app")},"5c9e":function(e,t,a){"use strict";a("a9ed")},"619a":function(e,t,a){},"85ec":function(e,t,a){},a9ed:function(e,t,a){},c7fa:function(e,t,a){"use strict";a("619a")},c82b:function(e,t,a){},d5db:function(e,t,a){},d7bd:function(e,t,a){},e8eb:function(e,t,a){"use strict";a("c82b")},fa7f:function(e,t,a){"use strict";a("d7bd")}});
//# sourceMappingURL=app.378bd960.js.map